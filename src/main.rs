use sip_rs::instructions::pump::accounts::{CreateAccount, CreateV2Account, TradeAccount};
use sip_rs::instructions::{Instruction, pump::instructions::PumpCreateInstruction};
use sip_rs::instructions::raw_instruction::{InstructionAccounts, RawSerializable};
fn main() {
    const ACCOUNTS: &[&str] = &[
        "Mint",
        "Mint Authority",
        "Bonding Curve",
        "Associated Bonding Curve",
        "Global",
        "Mpl Token Metadata",
        "Metadata",
        "User",
        "System Program",
        "Token Program",
        "Associated Token Program",
        "Rent",
        "Event Authority",
        "Program",
    ];

    let data: [u8; 152] = [
        0x18, 0x1e, 0xc8, 0x28, 0x05, 0x1c, 0x07, 0x77, 0x10, 0x00, 0x00, 0x00, 0x4b, 0x61, 0x6c, 0x6c,
        0x6f, 0x73, 0x20, 0x26, 0x20, 0x73, 0x74, 0x68, 0x65, 0x6e, 0x6f, 0x73, 0x04, 0x00, 0x00, 0x00,
        0x65, 0x75, 0x6b, 0x61, 0x50, 0x00, 0x00, 0x00, 0x68, 0x74, 0x74, 0x70, 0x73, 0x3a, 0x2f, 0x2f,
        0x69, 0x70, 0x66, 0x73, 0x2e, 0x69, 0x6f, 0x2f, 0x69, 0x70, 0x66, 0x73, 0x2f, 0x62, 0x61, 0x66,
        0x6b, 0x72, 0x65, 0x69, 0x67, 0x35, 0x62, 0x32, 0x64, 0x70, 0x70, 0x72, 0x73, 0x36, 0x6b, 0x32,
        0x6e, 0x66, 0x68, 0x37, 0x33, 0x6a, 0x61, 0x78, 0x75, 0x76, 0x67, 0x35, 0x73, 0x33, 0x70, 0x6e,
        0x6c, 0x6e, 0x64, 0x7a, 0x6e, 0x35, 0x37, 0x70, 0x64, 0x78, 0x6b, 0x6d, 0x33, 0x73, 0x69, 0x6a,
        0x73, 0x7a, 0x64, 0x6a, 0x65, 0x77, 0x61, 0x6d, 0x06, 0x0f, 0x4e, 0x29, 0x41, 0xb3, 0xb9, 0x95,
        0x5e, 0x65, 0x44, 0x7b, 0x20, 0x01, 0x45, 0x83, 0xda, 0x22, 0x6d, 0x42, 0x84, 0x05, 0xca, 0xf1,
        0x84, 0xb1, 0xa5, 0xad, 0x5c, 0x55, 0x94, 0xe7
    ];

    let instruction = Instruction::from_bytes(&data).unwrap();
    match instruction {
        Instruction::PumpCreateV2(create_data) => {
            let idx = create_data.account_index(CreateV2Account::Mint);
            dbg!(ACCOUNTS[idx]);
        },

        _ => ()
    }
}
